# 29 . **Web Development with Python**

Python is a versatile language that is widely used for web development. Two of the most popular frameworks for web development in Python are **Flask** and **Django**. These frameworks help you create web applications with features like routing, templates, and database integration. Additionally, integrating **REST APIs**, working with **HTML**, **CSS**, and **JavaScript**, and implementing **authentication** and **authorization** are crucial for building modern, secure web applications.

---

## **1. Web Frameworks: Flask and Django**

### **Flask**

**Flask** is a micro-framework for web development in Python. It is lightweight and easy to get started with, making it perfect for small to medium-sized applications. Flask provides the essentials for building a web server, such as routing, templates, and handling requests and responses.

#### **Getting Started with Flask**

1. **Install Flask:**

```bash
pip install flask
```

2. **Basic Flask Application:**

```python
from flask import Flask

# Create a Flask application
app = Flask(__name__)

@app.route('/')
def home():
    return "Hello, World!"

if __name__ == '__main__':
    app.run(debug=True)
```

3. **Explanation:**

   * `Flask(__name__)`: Initializes the Flask application.
   * `@app.route('/')`: Defines a route for the home page (`/`).
   * `app.run(debug=True)`: Starts the web server in debug mode, which helps with development by providing error messages and automatic reloading.

4. **Rendering Templates with Jinja2**:
   Flask uses the Jinja2 templating engine to render HTML templates.

```python
from flask import render_template

@app.route('/')
def home():
    return render_template('index.html', name="Alice")
```

Here, `index.html` will be a template file in the `templates` folder, and `name` will be passed into the template.

### **Django**

**Django** is a high-level web framework that provides more built-in features than Flask. Django follows the "batteries-included" philosophy, offering built-in support for databases, authentication, routing, and templating.

#### **Getting Started with Django**

1. **Install Django:**

```bash
pip install django
```

2. **Creating a Django Project:**

```bash
django-admin startproject myproject
cd myproject
python manage.py runserver
```

3. **Basic Django Application:**
   After setting up the project, you can create a basic application (app) within it:

```bash
python manage.py startapp myapp
```

4. **Creating Views and Routes in Django**:
   Django uses URL routing to map URLs to views.

```python
# myapp/views.py
from django.http import HttpResponse

def home(request):
    return HttpResponse("Hello, World!")

# myapp/urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.home, name='home'),
]
```

5. **Running the Server**:

```bash
python manage.py runserver
```

### **Comparison: Flask vs. Django**

* **Flask**: Lightweight, flexible, minimal, and easy to get started with. Best for smaller projects or when you need more control over your components.
* **Django**: Provides more features out-of-the-box (e.g., ORM, authentication). Ideal for larger applications or projects that need a lot of built-in functionality.

---

## **2. REST APIs**

A **REST API** (Representational State Transfer) allows different software systems to communicate over HTTP. REST APIs are commonly used to build web services that handle HTTP requests such as `GET`, `POST`, `PUT`, and `DELETE`.

### **Building a Simple REST API with Flask**

1. **Install Flask-RESTful**:

```bash
pip install flask-restful
```

2. **Basic REST API Example:**

```python
from flask import Flask, request
from flask_restful import Api, Resource

app = Flask(__name__)
api = Api(app)

# Define a resource
class HelloWorld(Resource):
    def get(self):
        return {'message': 'Hello, World'}

    def post(self):
        data = request.get_json()
        return {'message': f"Hello, {data['name']}"}, 201

# Add resource to API
api.add_resource(HelloWorld, '/')

if __name__ == '__main__':
    app.run(debug=True)
```

3. **Explanation:**

   * **`Resource`**: A base class for defining RESTful resources.
   * **`get()`** and **`post()`**: Define HTTP methods for the API resource.
   * **`request.get_json()`**: Retrieves the data sent in the request as JSON.

4. **Accessing the API:**

   * **GET Request**: Navigate to `http://localhost:5000/` to see the message.
   * **POST Request**: Send a `POST` request with JSON data (e.g., `{"name": "Alice"}`) using Postman or any HTTP client.

### **Building a REST API with Django**

Django provides powerful tools for creating APIs, including **Django REST Framework (DRF)**.

1. **Install Django REST Framework:**

```bash
pip install djangorestframework
```

2. **Basic API Example with DRF:**

```python
# myapp/views.py
from rest_framework.views import APIView
from rest_framework.response import Response

class HelloWorld(APIView):
    def get(self, request):
        return Response({"message": "Hello, World"})

# myapp/urls.py
from django.urls import path
from .views import HelloWorld

urlpatterns = [
    path('api/', HelloWorld.as_view()),
]
```

3. **Run the server**:

```bash
python manage.py runserver
```

4. **Accessing the API**:

   * **GET Request**: Navigate to `http://localhost:8000/api/` to see the message.

---

## **3. HTML, CSS, and JavaScript Integration**

Web development is not just about the backend. Frontend technologies like **HTML**, **CSS**, and **JavaScript** play a critical role in making websites interactive and visually appealing.

### **Flask and HTML Integration**

You can use **Flask** to render HTML templates and include dynamic content.

```python
from flask import render_template

@app.route('/')
def home():
    return render_template('index.html', name='Alice')
```

In the **`templates/index.html`** file:

```html
<!DOCTYPE html>
<html>
<head>
    <title>Flask Web App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Hello, {{ name }}!</h1>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
```

### **Django and HTML Integration**

Django's template engine allows you to use variables and logic within HTML files.

```python
# myapp/views.py
from django.shortcuts import render

def home(request):
    return render(request, 'index.html', {'name': 'Alice'})
```

In the **`templates/index.html`** file:

```html
<!DOCTYPE html>
<html>
<head>
    <title>Django Web App</title>
</head>
<body>
    <h1>Hello, {{ name }}!</h1>
</body>
</html>
```

### **CSS and JavaScript Integration**

Both **Flask** and **Django** allow you to serve static files (CSS, JavaScript) using the `static` folder.

* **Flask**: Place CSS/JS files in the `static/` folder.
* **Django**: Place CSS/JS files in `myapp/static/`.

---

## **4. Authentication and Authorization**

### **Flask Authentication**

Flask provides extensions like **Flask-Login** and **Flask-Security** to handle user authentication and session management.

1. **Install Flask-Login**:

```bash
pip install flask-login
```

2. **Basic Authentication Example in Flask**:

```python
from flask import Flask, render_template, redirect, url_for
from flask_login import LoginManager, UserMixin, login_user, login_required, logout_user, current_user

app = Flask(__name__)
app.secret_key = 'your_secret_key'
login_manager = LoginManager()
login_manager.init_app(app)

class User(UserMixin):
    def __init__(self, id):
        self.id = id

@login_manager.user_loader
def load_user(user_id):
    return User(user_id)

@app.route('/login', methods=['GET', 'POST'])
def login():
    user = User(id=1)
    login_user(user)
    return redirect(url_for('profile'))

@app.route('/profile')
@login_required
def profile():
    return f'Hello, {current_user.id}!'

@app.route('/logout')
@login_required
def logout():
    logout_user()
    return redirect(url_for('login'))
```

### **Django Authentication**

Django comes with a built-in authentication system.

1. **Enable Django Auth**: The Django authentication system is enabled by default.

2. **Basic Authentication Example in Django**:

```python
from django.contrib.auth import login, authenticate
from django.shortcuts import render, redirect

def login_view(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(request, username=username, password=password)
        if user is not None:
            login(request, user)
            return redirect('profile')
    return render(request, 'login.html')

def profile(request):
    return render(request, 'profile.html')
```

---

## **Why Learn Web Development with Python?**

* **Flask and Django**: Both frameworks are highly popular, providing you with a broad range of web development tools. Flask is lightweight and flexible, while Django comes with built-in features for rapid development.
* **REST APIs**: Understanding how to create REST APIs allows you to build systems that communicate over the web, enabling modern applications to work seamlessly with different devices and platforms.
* **Frontend Integration**: Combining Python with frontend technologies (HTML, CSS, JavaScript) creates full-stack applications, allowing you to build end-to-end web systems.
* **Authentication**: Ensuring secure user login and access control is crucial in web applications. Understanding authentication and authorization in Flask and Django ensures you can build secure applications.

Mastering these skills enables you to build dynamic, feature-rich web applications and APIs, preparing you for roles as a web developer or full-stack developer.
